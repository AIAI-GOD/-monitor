<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实时金价监控中心</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8f9fa; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #b8860b; margin-bottom: 30px; }
        .price-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .price-card { background: #fff; border: 1px solid #eee; padding: 20px; border-radius: 10px; text-align: center; transition: transform 0.2s; }
        .price-card:hover { transform: translateY(-5px); border-color: #d4af37; }
        .price-card h3 { margin-top: 0; color: #666; font-size: 16px; }
        .price-value { font-size: 28px; color: #e74c3c; font-weight: bold; margin: 10px 0; }
        .unit { font-size: 14px; color: #888; }
        .update-time { text-align: center; font-size: 12px; color: #aaa; margin-top: 20px; }
        .notice { background: #fff3cd; padding: 10px; border-radius: 5px; font-size: 13px; margin-top: 20px; border-left: 5px solid #ffc107; }
    </style>
</head>
<body>

<div class="container">
    <h1>✨ 实时金价监控</h1>
    
    <div class="price-grid">
        <div class="price-card">
            <h3>国际金价</h3>
            <div id="intl-price" class="price-value">--</div>
            <div class="unit">美元/盎司 (USD/oz)</div>
        </div>
        <div class="price-card">
            <h3>国内金价 (参考)</h3>
            <div id="cn-price" class="price-value">--</div>
            <div class="unit">人民币/克 (CNY/g)</div>
        </div>
        <div class="price-card">
            <h3>水贝金价 (估算)</h3>
            <div id="shuibei-price" class="price-value">--</div>
            <div class="unit">人民币/克 (较现货+2元)</div>
        </div>
        <div class="price-card">
            <h3>首饰金价 (品牌)</h3>
            <div id="jewelry-price" class="price-value">--</div>
            <div class="unit">人民币/克 (较现货+100元)</div>
        </div>
    </div>

    <div class="notice">
        <strong>说明：</strong> 国内金价根据国际金价及实时汇率（按7.2计）自动换算；首饰金价包含约100元/克的品牌溢价及工费。
    </div>
    
    <div id="update-time" class="update-time">数据更新中...</div>
</div>

<script>
    
    const API_KEY = 'goldapi-g33at6smkoto3ot-io'; 

    async function fetchGoldPrice() {
        try {
            const response = await fetch("https://www.goldapi.io/api/XAU/USD", {
                headers: {
                    "x-access-token": API_KEY,
                    "Content-Type": "application/json"
                }
            });
            const data = await response.json();

            if (data.price) {
                // 1. 国际金价 (美元/盎司)
                const usdPerOz = data.price;
                document.getElementById('intl-price').innerText = usdPerOz.toFixed(2);

                // 2. 换算国内金价 (人民币/克)
                // 换算公式：美元价格 / 31.1035 (盎司转克) * 汇率 (假设7.2)
                const exchangeRate = 7.2; 
                const cnyPerGram = (usdPerOz / 31.1035) * exchangeRate;
                document.getElementById('cn-price').innerText = cnyPerGram.toFixed(2);

                // 3. 水贝金价 (通常在现货价基础上加 2-5 元)
                document.getElementById('shuibei-price').innerText = (cnyPerGram + 2).toFixed(2);

                // 4. 首饰金价 (大牌如周大福等通常加价 100-120 元)
                document.getElementById('jewelry-price').innerText = (cnyPerGram + 100).toFixed(2);

                document.getElementById('update-time').innerText = "最后更新时间: " + new Date().toLocaleString();
            } else {
                document.getElementById('update-time').innerText = "获取失败，请检查 API Key";
            }
        } catch (error) {
            console.error("数据获取出错:", error);
            document.getElementById('update-time').innerText = "网络请求失败";
        }
    }

    // 页面加载完成后立即获取一次
    fetchGoldPrice();
    // 每隔 5 分钟自动更新一次 (300000 毫秒)
    setInterval(fetchGoldPrice, 300000);
</script>

</body>
</html>
